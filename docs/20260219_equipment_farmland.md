# 특수 장비 기능화 + 특수 농사용 흙 (Phase 4-1d)

## 작업 개요
특수 장비 4종을 실제 도구로 기능화하고, 특수 농지 블록 + 분무기를 추가하여 커스텀 농사 게임플레이 루프를 완성한다.

- JIRA: CHOCO-98
- 브랜치: `feature/CHOCO-98`

## 작업 전 요청사항
- CHOCO-95~97 완료 상태 (전문 레벨, 장비 강화, 전문 현황 GUI)

## 작업 진행 중 결정된 사항등, 작업관련 주요 정보

### 핵심 변경 사항
1. **특수 낚싯대** → FishingRodItem 확장 (투척/회수 가능)
2. **특수 곡괭이** → TOOL DataComponent + 강화 등급별 채굴 속도
3. **특수 조리도구** → 요리 완성 시 필수 (맨손 → 안내 메시지)
4. **특수 호미** → 커스텀 작물 수확 전용 (match_tool 루트테이블 조건)
5. **특수 농지** (신규) → 상점 구매 + 설치, 커스텀 작물 전용
6. **분무기** (신규) → 물 충전(3회분) + 특수 농지 수분 보충
7. **작물 드롭 변경** → 성숙 시 수확물만 (씨앗 X), 미성숙 시 씨앗만
8. **XP 게이팅** → 전문 장비 사용 시에만 해당 분야 XP 부여

### 특수 농지 수분 시스템
- MOISTURE=0 (건조): 작물 성장 차단, farmland 텍스처
- MOISTURE=1 (비옥): 작물 성장 허용, farmland_moist 텍스처
- 분무기로만 비옥화 가능 (주변 물 설치 무관)
- 성숙 작물 수확 시 자동 건조화

### 강화 등급별 곡괭이 속도
| 등급 | 강화 Lv | 채굴 속도 | 바닐라 동급 |
|------|---------|-----------|-------------|
| 일반 | 0-2 | 4.0 | 돌 곡괭이 |
| 고급 | 3-4 | 6.0 | 철 곡괭이 |
| 희귀 | 5 | 8.0 | 다이아 곡괭이 |

## 작업 체크리스트
- [ ] WATER_CHARGES DataComponent 추가
- [ ] SpecialFarmlandBlock 생성 + 등록 + 리소스
- [ ] SprayerItem 생성 + 등록 + 리소스
- [ ] CustomCropBlock 수정 (mayPlaceOn + onRemove)
- [ ] SpecialFishingRodItem 생성 + 등록 변경
- [ ] 곡괭이 등록 변경 (TOOL 컴포넌트) + BreakSpeed 이벤트
- [ ] 크롭 루트테이블 4건 수정
- [ ] CookingStationBlock 수정 (조리도구 필수화)
- [ ] AssignQualityLootModifier XP 게이팅
- [ ] CropGrow 이벤트 핸들러
- [ ] 상점/가격 등록
- [ ] 번역 키 추가
- [ ] 빌드 확인

## 인게임 테스트

**특수 낚싯대:**
- [x] 투척/회수 정상 동작
- [x] 생선 낚기 가능
- [x] 내구도 바 없음, 파괴 안 됨
- [x] 이 낚싯대로 낚시 시 XP 획득
- [x] 바닐라 낚싯대로 낚시 시 XP 미획득

**특수 곡괭이:**
- [x] 돌/광물 채굴 가능
- [x] requiresCorrectToolForDrops 블록 드롭 정상
- [x] 내구도 바 없음, 파괴 안 됨
- [x] 이 곡괭이로 채광 시 XP 획득
- [x] 바닐라 곡괭이로 채광 시 XP 미획득

**특수 조리도구:**
- [x] 재료 넣기 정상
- [x] 조리도구 우클릭 → 요리 완성
- [x] 맨손 우클릭 → 안내 메시지
- [x] 요리 XP 정상 부여

**특수 호미 + 커스텀 작물 드롭:**
- [x] 특수 호미로 성숙 작물 파괴 → 수확물만 드롭
- [x] 특수 호미로 미성숙 작물 파괴 → 씨앗만 드롭
- [x] 다른 도구/맨손으로 파괴 → 드롭 없음
- [x] 바닐라 작물은 정상 드롭
- [x] 수확 시 농사 XP 획득

**특수 농지 + 수분 시스템:**
- [x] 상점에서 구매 가능
- [x] 15px 높이, 기본 건조 상태
- [x] 밟아도 흙 변환 안 됨
- [x] 부수면 자기 자신 드롭
- [x] 건조 상태에서 작물 성장 차단

**분무기:**
- [x] 상점에서 구매 가능
- [x] 물에 우클릭 → 3회분 충전
- [x] 건조 농지에 우클릭 → 비옥화
- [x] 비옥 농지에 우클릭 → 반응 없음
- [x] 충전 0일 때 → 안내 메시지
- [x] 툴팁에 충전량 표시

**농사 게임플레이 루프:**
- [x] 특수 농지 설치 → 분무기 수분 보충 → 씨앗 심기 → 성장 → 호미 수확
- [x] 수확 후 농지 건조화
- [x] 미성숙 작물 제거 시 수분 유지

**XP 게이팅:**
- [x] 바닐라 도구 → 품질 적용, XP 미획득
- [x] 특수 장비 → 품질 + XP 모두 획득
