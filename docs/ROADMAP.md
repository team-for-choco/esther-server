# Esther Server 로드맵

> 기존 기획([20260205_plan_server_features.md](20260205_plan_server_features.md))과
> 서버 분석([20260210_analyze_server_features.md](20260210_analyze_server_features.md))을 기반으로 정리한 전체 로드맵.

## 완료된 작업

- [x] 프로젝트 초기 설정
- [x] 커스텀 생선 (CHOCO-74) — 테스트 생선, 구운 테스트 생선
- [x] 커스텀 작물 (CHOCO-75) — 테스트 작물
- [x] 루트 모디파이어 조건 타입 수정 (#3)
- [x] 루트 모디파이어 replace 방식 구현 (CHOCO-76)
- [x] 커스텀 광물 + 월드젠 (CHOCO-77) — 테스트 광석(석재/딥슬레이트), 원석, 주괴
- [x] 아이템 등급 시스템 Phase 1 (CHOCO-78) — 일반/고급/희귀, 시각 표시
- [x] 한국식 작물 추가 (CHOCO-79) — 쌀, 고추, 시금치

---

## Phase 1: 콘텐츠 기반 확장

> 광물을 추가하고 아이템 등급 시스템 기반을 만든다.

- [x] ~~**1-1. 루트 모디파이어 replace 방식 구현**~~ (CHOCO-76)
- [x] ~~**1-2. 커스텀 광물 + 월드젠**~~ (CHOCO-77)
- [x] ~~**1-3. 아이템 등급/품질 시스템**~~ (CHOCO-78)
  - 일반(Common 70%)/고급(Fine 25%)/희귀(Rare 5%) 3등급
  - DataComponents 기반, 글로벌 루트 모디파이어로 태그 기반 부여
  - Phase 1: 시각 표시(이름 색상 + 툴팁)만 구현
  - 대상: 생선/작물/광물 10종
- [x] ~~**1-4. 한국식 작물 추가**~~ (CHOCO-79)
  - 쌀, 고추, 시금치 3종 작물
  - CustomCropBlock 범용 클래스, 쌀 조리 레시피, 등급 시스템 연동
  - 참고: 별농서버

## Phase 1.5: QoL 1차

> 대형 시스템 전 가벼운 작업으로 서버 기본 체감 개선.

- [ ] **1.5-1. 슬리핑 시스템** ★☆☆
  - 일부 플레이어만 자도 밤 넘기기
- [ ] **1.5-2. 낮 시간 연장** ★☆☆
  - daylight cycle 조정
  - 참고: Wispwood (낮 3배)
- [ ] **1.5-3. 앉기/눕기** ★★☆
  - 계단/반블록 우클릭 시 앉기 등

## Phase 2: 콘텐츠 순환

> 생선+작물+광물을 **연결**하는 시스템.

- [ ] **2-1. 요리 시스템** ★★★
  - 커스텀 작물+생선 조합 특수 요리
  - 등급별 요리, 버프 효과
  - 참고: 띵타이쿤 (요리 등급+가격 변동), 악어놀이터
- [ ] **2-2. 도감 시스템** ★★★★
  - 생선/작물/광물/요리 수집 도감 GUI
  - 데이터 저장, 달성 보상 연동 (칭호, 기능 해금 등)
  - 참고: 띵타이쿤 (도감이 서버 핵심 동력), 악어놀이터 (도감→스탯 상승)

## Phase 2.5: QoL 2차 — 땅 보호 시스템

### 토지 증서 아이템
- 커스텀 아이템 "토지 증서"를 사용하여 청크를 클레임
- 1개 = 1청크 (16x16), 전체 높이 (Y: 0~319) 보호
- 추후 Y축 범위 세분화 가능하도록 여지를 남김

### 획득 경로 (Phase에 따라 점진 확장)
| Phase | 획득 방법 | 비고 |
|-------|-----------|------|
| 초기 | 최초 접속 시 1개 지급 | 모든 플레이어에게 첫 거점 보장 |
| Phase 2 (도감) | 도감 달성 보상 | 예: 50개 수집 시 1개, 100개 시 1개 |
| Phase 3 (경제) | 상점에서 화폐로 구매 | 추가 획득 경로 |

### 보호 기능
- [ ] **2.5-1. 청크 클레임 기본 구현** ★★★
  - 토지 증서 아이템 등록
  - 청크 소유권 데이터 저장/로드
  - 토지 증서 사용 시 해당 청크 클레임
  - 여러 청크 소유 가능 (인접하지 않아도 됨)
- [ ] **2.5-2. 행동 제한 설정** ★★★
  - 소유자가 허용/금지 항목 설정 가능:
    - 블록 파괴/설치
    - 상호작용 (상자, 문, 레버 등)
  - 기본값: 블록 파괴/설치 금지, 상호작용 허용
- [ ] **2.5-3. 플레이어 초대 (신뢰)** ★★☆
  - 소유자가 특정 플레이어를 초대하여 함께 활동 가능
  - 초대된 플레이어는 소유자와 동일한 권한

## Phase 3: 경제

> 거래할 컨텐츠가 다양해진 후 경제 시스템 도입.

- [ ] **3-1. 화폐 시스템** ★★★
  - 에메랄드 기반 또는 커스텀 화폐
- [ ] **3-2. 플레이어 상점** ★★★
  - 쇼핑 디스트릭트 방식
  - 참고: Hermitcraft
- [ ] **3-3. NPC 상인** ★★★
  - 서버 기본 상점
  - 가격 변동은 선택 (10명 규모에서는 효과 제한적)

## Phase 4: 성장/전문화

> 장기 플레이를 위한 성장 시스템.

- [ ] **4-1. 전문 분야 보너스** ★★★
  - 낚시/농사/채광 많이 할수록 해당 분야 효율 증가
  - 참고: 띵타이쿤 (전문가 기술 트리), 악어놀이터 (직업 패시브)
- [ ] **4-2. 스킬 트리 (선택)** ★★★★
  - 분야별 스킬 포인트 투자
  - 필요 시 추가

---

## 추후 검토 (Phase 4 이후)

| 기능 | 참고 서버 | 비고 |
|------|-----------|------|
| 일일/주간 퀘스트 | 동물촌락, BugMC | 도감+경제 완성 후 퀘스트 보상 설계 |
| 우편함/선물 시스템 | - | 소셜 기능, 핵심 루프 완성 후 |
| 계절 시스템 | Wispwood, 별농서버 | 한국식 작물과 시너지. 구현 복잡도 높음 |
| 시즌 이벤트 | BugMC | 운영 단계에서 추가 |
| 근접 음성채팅 | 냥팜 | 별도 모드(Simple Voice Chat) 설치로 해결 |
| 커스텀 텍스처 교체 | - | 바닐라 텍스처 재활용 중. 아트 작업 필요 시 진행 |
| 아이템 효과 심화 | 초기 기획 | 등급별 차등화: 희귀(새 효과), 특별(유니크). 일반(바닐라 스타일) 이후 확장 |

---

## 흐름도

```
[완료] 생선 ✅ → 작물 ✅ → replace 수정 ✅ → 광물 ✅ → 등급 시스템 ✅ → 한국식 작물 ✅
                                              ↓
                              QoL (슬리핑, 낮 연장, 앉기)
                                              ↓
                                 요리 시스템 → 도감 시스템
                                              ↓
                                     QoL (땅 보호)
                                              ↓
                              화폐 → 플레이어 상점 → NPC 상인
                                              ↓
                                 전문 분야 보너스 → 스킬 트리
```
