# 요리 시스템 (Phase 2-1)

## 작업 개요
커스텀 작물+생선을 조합하여 특수 요리를 만드는 시스템.
전용 조리대 블록에서 우클릭 상호작용으로 재료를 순서대로 투입하면 요리가 완성되는 방식.
재료의 등급이 높을수록 결과물의 등급이 높아질 확률 증가.

- **JIRA**: CHOCO-84
- **Phase**: 2-1

## 작업 전 요청사항
- 조리대는 관리자 전용 설치 (일반 유저 제작 불가, 파괴 불가)
- GUI 없음 — 우클릭 상호작용 방식
- 재료 순서가 중요 (ordered recipe)
- 빈 손 우클릭으로 완성 트리거
- 실패 시 재료 소멸 (페널티)
- 버프 효과는 이번 단계에서 구현하지 않음 (추후)

## 작업관련 주요 정보

### 상호작용 흐름
1. 재료를 손에 들고 조리대 우클릭 → 재료 1개 소비, 파티클 + 소리
2. 다음 재료도 같은 방식으로 투입 (순서 중요!)
3. 모든 재료 투입 후 **빈 손으로 우클릭** → 레시피 판정
   - **성공**: 요리 아이템 스폰 + 화려한 이펙트
   - **실패** (순서/조합 틀림): 재료 소멸 + 실패 이펙트

### 조리대 블록
- `CookingStationBlock` (BaseEntityBlock 상속)
- 크래프팅 테이블 텍스처 재활용 (placeholder)
- 방향 블록 (HorizontalDirectionalBlock.FACING)
- 파괴 불가 (경도 -1, 베드락처럼)
- 크리에이티브 탭에 표시

### 요리 4종

| ID | 한글명 | 영문명 | 재료 (순서대로) | 영양 | 포만 |
|----|--------|--------|----------------|------|------|
| `spinach_bibimbap` | 시금치비빔밥 | Spinach Bibimbap | 밥 → 시금치 → 고추 | 10 | 0.8 |
| `fish_stew` | 생선찌개 | Fish Stew | 구운 생선 → 고추 → 시금치 | 10 | 0.8 |
| `gimbap` | 김밥 | Gimbap | 밥 → 구운 생선 → 시금치 | 12 | 0.9 |
| `harvest_bibimbap` | 수확물비빔밥 | Harvest Bibimbap | 밥 → 구운 수확물 → 고추 → 시금치 | 14 | 1.0 |

### 등급 계산 (CookingQualityCalculator)
- 재료별 품질 점수: COMMON=0, FINE=1, RARE=2
- 평균 점수(avgScore)로 확률 분포 조정
- avgScore=0 (전부 일반): 70/25/5 (기본값과 동일)
- avgScore=1 (전부 고급): 50/40/10
- avgScore=2 (전부 희귀): 30/55/15

## 작업 체크리스트
- [x] JIRA 이슈 생성 (CHOCO-84)
- [x] 브랜치 생성 (feature/CHOCO-84)
- [x] 문서 생성
- [x] ModCooking 등록 객체 + EstherServerMod 연동
- [x] CookingStationBlock + BlockEntity + 블록 리소스
- [x] CookingStationRecipe + Serializer + 레시피 JSON
- [x] 요리 아이템 등록 + 리소스
- [x] CookingQualityCalculator + 등급 부여 연동
- [x] 번역, 태그 업데이트
- [x] 빌드 확인

## 인게임 테스트
- [ ] 조리대 크리에이티브 모드에서 획득
- [ ] 조리대 설치 → 서바이벌에서 파괴 불가 확인
- [ ] 재료 순서대로 우클릭 → 파티클/소리 피드백
- [ ] 빈 손 우클릭 → 요리 완성 (정확한 레시피)
- [ ] 틀린 조합 → 재료 소멸 + 실패 이펙트
- [ ] 모든 4종 요리 제작 확인
- [ ] 요리 섭취 → 영양/포만감 확인
- [ ] 희귀 재료로 제작 → 높은 등급 확률 확인
